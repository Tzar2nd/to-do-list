(()=>{"use strict";class t{constructor(t,e,o){this.name=t,this.description=e,this.dueDate=o,this.toDos=[]}getName(){return this.name}getDescription(){return this.description}getDueDate(){return this.dueDate}getToDos(){return this.toDos}addToDo(t){this.toDos.push(t)}getToDos(){return this.toDos}}class e{constructor(t,e,o,n,s){this.title=t,this.description=e,this.dueDate=o,this.priority=n,this.notes=s}getTitle(){return this.title}getDescription(){return this.description}getDueDate(){return this.dueDate}getPriority(){return this.priority}getNotes(){return this.notes}}class o{static loadUI(){o.loadProjects(),o.displayProjects(),o.attachListeners()}static loadProjects(){Storage.getToDoState().getProjects().forEach((t=>{o.createProject(t.getName())}))}static displayProjects(){const t=document.getElementById("projects");this.projects.getProjects().forEach((e=>{t.innerHTML+=`\n            <div>\n            <button class='button-project'>\n                <i class="fas fa-list-ul"></i>\n                    <span>${e.getName()}</span>\n                <i class="fas fa-times"></i>\n            </button>\n            </div>`}))}static displayProject(t){document.getElementById("projects").insertAdjacentHTML("beforeend",`<div>\n        <button class='button-project'>\n            <i class="fas fa-list-ul"></i>\n                <span>${t}</span>\n            <i class="fas fa-times"></i>\n        </button>\n        </div>`);let e=document.getElementById("projects").lastChild.getElementsByClassName("button-project")[0];e.addEventListener("click",(t=>o.displayProject(e)))}static attachListeners(){let t=document.getElementsByClassName("button-project");Array.from(t).forEach((t=>{t.addEventListener("click",(e=>o.displayProject(t)))})),document.getElementById("new-project-button").addEventListener("click",(t=>{document.getElementsByClassName("new-project-container")[0].classList.remove("hidden")})),document.getElementById("button-cancel-project").addEventListener("click",(t=>{o.clearNewProjectInput()})),document.getElementById("button-save-project").addEventListener("click",(t=>{let e=o.createProject();e&&(o.clearNewProjectInput(),o.displayProject(e.getName()))})),document.getElementById("button-new-todo").addEventListener("click",(t=>{document.getElementsByClassName("new-todo-container")[0].classList.remove("hidden")})),document.getElementById("button-save-todo").addEventListener("click",(t=>{if(o.createToDo()){o.clearNewToDoInput(),o.clearToDos();let t=document.getElementById("project-name").textContent;o.displayToDos(t)}})),document.getElementById("button-cancel-todo").addEventListener("click",(t=>{o.clearNewToDoInput()}))}static displayProject(t){let e=t.querySelector("span").innerText;o.clearToDos(),o.displayToDos(e)}static createToDo(){let t=document.getElementById("input-todo-name").value,o=document.getElementById("project-name").textContent,n=this.projects.getProjectByName(o);if(""===t)return alert("Please enter a task name"),!1;let s=new e(t);return n.addToDo(s),!0}static clearNewToDoInput(){document.getElementsByClassName("new-todo-container")[0].classList.add("hidden"),document.getElementById("input-todo-name").value=""}static clearNewProjectInput(){document.getElementsByClassName("new-project-container")[0].classList.add("hidden"),document.getElementById("input-project-name").value=""}static createProject(){let e=document.getElementById("input-project-name").value;if(""===e)return alert("Please enter a project name"),!1;let o=new t(e,"");return this.projects.addProject(o),o}static clearToDos(){document.getElementById("content-body").innerHTML=""}static displayToDos(t){document.getElementById("project-name").innerText=t;const e=document.getElementById("content-body");this.projects.getProjectByName(t).getToDos().forEach((t=>{e.innerHTML+=`\n            <button class='button-todo'>\n                <i class="fas fa-list-ul"></i>\n                    <span>${t.getTitle()} </span>\n                <i class="fas fa-times"></i>\n            </button>`})),o.attachToDoListeners()}static attachToDoListeners(){let t=document.getElementsByClassName("button-todo");Array.from(t).forEach((t=>{t.addEventListener("click",(t=>{console.log("clicked")}))}))}static loadDefaultData(){let o=new e("firstNote","Hello","01/03/2021 00:00",1,"First to-do list task"),n=new e("secondNote","Hellox2","12/03/2021 00:00",1,"Second to-do list task"),s=new e("firstNote2ndProject","Hi","02/03/2021 00:00",1,"Another task"),a=new t("First Project","1st Description"),c=new t("Second Project","1st Description");a.addToDo(o),a.addToDo(n),c.addToDo(s),this.projects.addProject(a),this.projects.addProject(c)}}o.loadUI()})();